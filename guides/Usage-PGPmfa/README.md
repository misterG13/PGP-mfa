# 'PGPmfa()' class examples and basic uses

## Have an open PHP Session:

    Why: Allows usage of the global variable $_SESSION. 
        Needed to store the script's dynamically generated codes.
    
    Example:
        session_start();

## Include PGPmfa class to your .php file:

    Why: Including a separate PHP file allows access to that files functions. 
        While keeping the workflow organized.
    
    Example:
        include_once '/php/PGPmfa.php';

## Insert namespace and alias:

    Why: Using namespaces keeps variable usage separated, like a container. 
        This allows scripts to run simultaneously without worrying about conflicting
        variable names.
    
    Example:
        use php\PGPmfa as PGPmfa;

## Import a Public PGPKey:

    Why: This key is generated by every user before sign up. 
        The private portion is kept safe on the user's computer. 
        While the public portion is used to create the secret login code.
    
    Example:
        $publicKey = file_get_contents('publicPGPkey.txt');

## Instantiate a new class object:

    Why: Starting a new object requires some input, one required and the other optional.
        First, is the $publicKey (from user/database) which is required.
        Second, is an optional welcome message to be displayed before the secret code.
    
    Example:
        $pgpMFA = new PGPmfa($publicKey, 'Welcome to my website!' . "\n");

## Generate a secret:

    Why: This is the output from our PGP encryption. The user is required
        to copy this message to their local computer where the private key is hosted.
        They will then be able to decrypt the message. Copy the secret code back to
        website form making the code their login password. SESSION is used to hold the
        message we will later include into our HTML form's textarea.
    
    Example:
        $_SESSION['php']['PGPmfa']['encrypted'] = $pgpMFA->getSecretMessageEncrypted();

## Display the encrypted secret (for the user to see):

    Why: This is where you can get creative. A simple echo will work
        for inline or linear programming. But in this script we use a replacement
        keyword. This code can be found under 'VISUAL OUTPUT' >> '// {MFA-CODE}'
        inside the 'index.php' file.
    
    Example:
        echo $_SESSION['pgp']['secretEncrypted'];

## Authenticating the decrypted code (from user):

    Why: After the user submits the form, it's time to compare the user's input
        with the code that was actually generated by the script. For good practice,
        we unset our variables and use PHP to forward the user onto their
        'account.php' page.
    
    Example:
        if ($pgpMFA->compareSecrets($_POST['pinCode'])) {
            // Success

            // Remove object; remove serialization
            unset($pgpMFA, $_SESSION['php']['PGPmfa']);

            // Forward to 'account' area
            header('Location: account.php', true, 302);
        }
